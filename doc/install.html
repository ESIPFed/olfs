<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1" />
<title>Server: INstallation Guide</title>
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
<STYLE>
<!--
H1 {font-family:Tahoma,Arial,sans-serif;color:white;background-color:#527CC1;font-size:22px;}
H2 {font-family:Tahoma,Arial,sans-serif;color:white;background-color:#527CC1;font-size:16px;}
H3 {font-family:Tahoma,Arial,sans-serif;color:white;background-color:#527CC1;font-size:14px;}
BODY {font-family:Tahoma,Arial,sans-serif;color:black;background-color:white;}
B {font-family:Tahoma,Arial,sans-serif;color:white;background-color:#527CC1;}
P {font-family:Tahoma,Arial,sans-serif;background:white;color:black;font-size:12px;}
A {color : black;}
A.name {color : black;}
HR {color : #525D76;}
.rightBanner {
	left: 100px;
}
LI {font-family:Tahoma,Arial,sans-serif;background:white;color:black;font-size:12px;}
.style3 {font-size: 10px}
.style4 {font-size: 14px}
-->
</STYLE>
<style type="text/css">
<!--
.style1 {
	font-family: "Courier New", Courier, mono;
	font-size: 14px;
}
.style5 {
	font-family: "Courier New", Courier, mono;
	font-style: italic;
	font-size: 14px;
}
-->
</style>
</head>

<body>
<a href="http://www.opendap.org"><img src="images/logo.gif" alt="OPeNDAP Logo" width="206" height="93" border="0" /></a>
<h1 align="left"> Installation<br />
  <span class="style4">Hyrax <span class="style3">(version: beta-1.5)</span></span></h1>
 <hr size="1" noshade="noshade">
<p><em>(Note: This is the second beta release.</em>)</p>
<p>There are two different components to Hyrax, each of which must be built and installed to get a running server. See the README file for information on the server architecture and roles of the two parts of the server.</p>
<p>What you will need:</p>
<ul>
  <li>  30 minutes</li>
  <li>C++ compiler</li>
  <li>Java  1.5 Runtime or Development Environment</li>
  <li><a href="http://tomcat.apache.org/">Tomcat  5.5.x</a> or newer </li>
  <li>A web browser</li>
</ul>
<h2>Part I: Download, build, configure and test the BES</h2>
<p>For this version you will need to get the latest <a href="http://www.opendap.org/download/BES.html">BES.</a></p>
<p>Go to the website, get the stuff, follow the instructions, and come back here when you've got it working. </p>
<p>&nbsp;</p>
<h2>Part II: Setting up the OLFS</h2>
<ol>
  <li>If you haven't already got it, go <a href="http://www.opendap.org/download/olfs.html">get the latest OLFS distribution from here.</a> You should get the binary jar file which will be named something like:<span class="style5"> olfs-0.1.5-webapp.jar</span><br />
    <br />
  </li>
  <li>Unpack the jar file with the command: <span class="style1"> jar -xvf <span class="style5">olfs-0.1.5-webapp</span>.jar</span>, which will unpack a directory called<span class="style1"><span class="style5"> olfs-0.1.5-webapp</span><br />  
    <br />
  </span></li>
  <li>Inside the that dircteory find the  opendap.war file, and copy it into the Tomcat's <em>webapps</em> directory:

<blockquote>
  <p class="style1"> cp olfs-0.1.5-webapp/opendap.war /usr/local/apache-tomcat-5.5.15/webapps/</p></blockquote>
  <p>(Assuming the your Tomcat server is in /usr/logcal) If you're replacing an old copy, make sure that remove the 'opendap' directory
  that Tomcat will have created when it was started.</p>

  </li>
  <li>Configure the Tomcat environment by setting the environment variable CATALINA_HOME to the full
    path for the Tomcat distribution.<br />
    <br />
    In bash:
<blockquote>
  <p class="style1">export CATALINA_HOME =
    /usr/local/apache-tomcat-5.5.20</p>
</blockquote>
</li>
<li>
 In the top level tomcat directory
    (<em>apache-tomcat-5.5.20</em> on my machine) issue the command:
<blockquote>
  <p class="style1"> bin/startup.sh; tail -f logs/catalina.out</p>
</blockquote>
 Wait a few seconds while it all starts up.


</li>
</ol><p>

<h3>Part IIB: Configure the OLFS servlet.</h3>
<p><a href="servlet.html">Configuration for the OLFS servlet is here. </a></p>
<p>&nbsp;</p>
<h3>Part IIc: Test the OLFS servlet.</h3>
<p>To test/use the server, open a web browser and open the URL: </p>
<blockquote>
  <p> <a href="http://localhost:8080/" class="style1">http://localhost:8080/</a></p>
</blockquote>
<p>and you should see the Tomcat default page. Open the URL:</p>
<blockquote>
  <p class="style1"><a href="http://localhost:8080/opendap/">http://localhost:8080/opendap/</a></p>
</blockquote>
<p>To see an HTML directory of the top of your data archive. </p>
<p>&nbsp;</p>
<p>You can probably
  get a THREDDS catalog by appending&quot;catalog.html&quot; to the end of any URL that returns an HTML directory, like so: </p>
<blockquote>
  <p> <a href="http://localhost:8080/opendap/catalog.html" class="style1">http://localhost:8080/opendap/catalog.html</a><br />
  </p>
</blockquote>
<p>Et cetera.</p>
<p>Usage Note:  If you use ctrl-c to stop watching the tail of the servers output, make sure to run bin/shutdown.sh to
  shutdown Tomcat. If you don't, you may get errors when you next
  try to start the Tomcat server.</p>
<p>&nbsp;</p>
<h3>Miscellaneous</h3>
<p>Once opendap.war is expanded, manually copy the file favicon.ico ${tomcat_home}/webapps/opendap/docs/images/favicon.ico to ${tomcat_home}/webapps/ROOT/ </p>
<p>The favicon.ico file is mostly a convenience to keep browsers from constantly asking for it (substitute your own icon if you like!).</p>
<hr size="1" noshade="noshade" />
<h3><br /></h3>
</body>
</html>
